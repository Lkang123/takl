# 悄悄话 - 端到端加密聊天应用

一个简单的端到端加密聊天室，用于个人研究和学习。

## 特性

- 🔒 **端到端加密**：使用 AES-GCM 256 位加密，服务器无法读取消息内容
- 💬 **实时通信**：基于 WebSocket 的实时消息传输
- 📱 **响应式设计**：iOS 风格界面，支持桌面和移动设备
- 👥 **在线人数**：实时显示当前在线用户数
- 📜 **历史记录**：新用户加入时自动加载最近 100 条消息
- 🔐 **房间密码**：密码保护，防止未授权访问

## 技术栈

- **后端**：Node.js + WebSocket (ws)
- **前端**：原生 JavaScript + Web Crypto API
- **加密**：AES-GCM 256-bit + PBKDF2

## 环境变量

- `PORT`：服务器端口（默认 3000）
- `ROOM_PASSWORD`：房间密码（默认 chat123）

## 本地运行

```bash
npm install
npm start
```

访问 http://localhost:3000

## 部署

支持部署到任何 Node.js 托管平台（Zeabur、Railway、Render 等）

## 安全说明

- 消息在浏览器端加密后才发送到服务器
- 服务器只负责转发加密消息，无法解密
- 历史记录以加密形式存储在服务器内存中
- 服务器重启后历史记录会清空

## License

MIT

